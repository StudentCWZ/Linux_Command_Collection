# 第四章 操作文件与目录
## 前言
1. 本章将介绍如下命令：
```
1. cp: 复制文件和目录
2. mv: 移动或重命名文件和目录
3. mkdir: 创建目录
4. rm: 移除文件和目录
5. in: 创建硬链接和符号连接
```
2. 以上5个命令属于最常使用`Linux`命令之列，可用来操作文件与目录。
3. 坦率地说，使用图形文件管理器来执行一些由这些命令执行的任务要容易多。使用文件管理器，我们可以将文件从一个目录拖放到另一个目录，我们可以剪切和粘贴文件，我们可以删除文件。
4. 使用命令行程序的原因是其具有强大的功能和灵活的操作。
5. 虽然使用图形文件管理器能轻松实现简单的文件操作，但是对于复杂的任务，使用命令行程序更容易完成。
6. 例如，将所有`HTML`文件从一个目录复制到目标目录，要完成这个任务，使用文件管理器则相当困难，而使用命令行则很容易。
```
cp -u *.html destination
```

## 通配符
1. 在开始使用命令之前，我们需要介绍一个使命令行如此强大的`shell`特性。
2. 由于`shell`需要经常使用文件名，因此它提供了一些特殊字符来帮助你快速指定一组文件名。这些特殊字符称为通配符。
3. 通配符(也叫文件名替换)允许用户依据字符模式选择文件名。
4. 下表列出了通配符以及它们所选择的对象

|通配符|匹配项|
|--|--|
|`*`|匹配任意多个字符(包括0个和1个)|
|`?`|匹配任意单个字符(不包括0个)|
|`[characters]`|匹配任意一个属于字符集中的字符|
|`[!characters]`|匹配任意一个不属于字符集中的字符|
|`[[:class:]]`|匹配任意一个属于指定字符类中的字符|

5. 下表列出了最常用的字符类。

|字符类|匹配项|
|--|--|
|`[:alnum:]`|匹配任意一个字符或数字|
|`[:alpha:]`|匹配任意一个字母|
|`[:digit:]`|匹配任意一个数字|
|`[:lower:]`|匹配任意一个小写字母|
|`[:upper:]`|匹配任意一个大写字母|

6. 通配符的使用使得为文件名构建复杂的筛选标准成为可能。
7. 下表列出了一些通配符模式及其匹配内容的示例。

|形式|匹配项|
|--|--|
|`g*`|以`g`开头的任一文件|
|`b*.txt`|以`b`开头，中间有任意多个字符，并以`.txt`结尾的任一文件|
|`Data???`|以`Data`开头，后面跟三个字符的任一文件|
|`[abc]*`|以`abc`中任一开头的任一文件|
|`BACKUP.[0-9][0-9][0-9]`|以`BACKUP.`开头，后面紧跟3个数字的任一文件|
|`[[:upper:]]*`|以大学字母开头的任一文件|
|`[![:digit:]]`|不以数字开头的任一文件|
|`*[[:lower:123]]`|以小写字母或数字1、2、3中的任一结尾的文件|

## mkdir-创建目录
1. `mkdir`命令是是用来创建目录的，格式如下：
```
mkdir directory...
```
2. 创建单个`dir1`目录，而输入：
```
mkdir dir1 dir2 dir3
```
3. 输入以下命令可以创建3个目录：
```
mkdir dir1 dir2 dir3
```

## cp-复制文件和目录
1. `cp`文件用来复制文件和目录，它有两种不同的使用方式。
2. 将单个文件或目录`item1`复制到文件或目录`item2`中。
```
cp item1 item2
``` 
3. 将多个项目(文件或目录)复制进一个目录中。
```
cp item... directory
```
4. `cp`命令选项

|选项|含义|
|--|--|
|`-a, --archive`|复制文件和目录及其属性，包括所有权和权限。通常来说，复制的文件具有用户所操作文件的默认属性|
|`-i, --interactive`|在覆盖一个已存在的文件前，提示用户进行确认。如果没有指定该选项，`cp`会默认覆盖文件|
|`-r, --recursive`|递归地复制目录及其内容。复制目录时需要这个选项(或-a选项)|
|`-u, --update`|当将文件从一个目录复制到另一个目录时，只会复制那些目标目录中不存在的文件或是目标目录相应文件的更新文件|
|`-v, --verbose`|复制文件时，显示信息性消息`(informative message)`|

5. `cp`命令示例

|命令|结果|
|--|--|
|`cp file1 file2`|将`file1`复制到`file2`。如果`file2`存在，则会被`file1`的内容覆盖。如果`file`不存在，则创建`file2`|
|`cp -i file1 file2`|同上，区别在于当`file2`存在时，覆盖之前通知用户确认|
|`cp file1 file2 dir1`|将`file1`和`file2`复制到目录`dir1`里。`dir1`必须已经存在|
|`cp file1/* dir2`|通过使用通配符，将`dir`中的所有文件复制到`dir2`中。`dir2`必须已经存在|
|`cp -r dir1 dir2`|将`dir1`目录(及其内容)复制到`dir2`目录中。如果`dir2`不存在，创建`dir2`，且包含与`dir1`目录相同的内容|

## mv-移除和重命名文件
1. `mv`命令可以执行文件移动和文件重命名操作，这具体取决于如何使用它。在这两种情况下，完成操作之后，原来的文件名将不存在。
2. `mv`的使用方法与`cp`基本相似。将文件(或目录)`item1`移动(或重命名)为`item2`。
```
mv item1 item2
```
3. 将一个或多个条目从一个目录移动到另一个目录下。
```
mv item... directory
```
4. `mv`命令很多选项与`cp`命令是共享。

|选项|含义|
|--|--|
|`-i, --interactive`|覆盖一个已存在的文件之前，提示用户确认。如果没有指定该选项，`mv`会默认覆盖文件|
|`-u, --update`|将文件从一个目录移动到另一个目录，只移动那些目标目录中不存在的文件或是目标目录里相应文件的更新文件|
|`-v，--verbose`|移动文件时显示信息性消息|

5. `mv`示例

|命令|结果|
|--|--|
|`mv file1 file2`|将`file1`移动`file2`存在，则会被`file1`的内容覆盖。如果`file2`不存在，则创建`file2`。无论哪一种情况，`file1`不再存在|
|`mv -i file1 file2`|同上，仅当`file2`存在时，覆盖之前通知用户确认|
|`mv file1 file2 dir1`|将`file1`和`file2`移动目录`dir1`下。`dir1`必须已经存在|
|`mv dir1 dir2`|将目录`dir1`(和其他内容)移到目录`dir2`下。如果目录`dir2`不存在，创建目录`dir2`，将目录`dir1`的内容移到`dir2`下，同时删除目录`dir1`|
